<!--
This is the entry point for developing and debugging.
This file is not bundled with the block during the build process.
-->

<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>
<div id="app"></div>
<script type="module">
  import htm from "https://esm.sh/htm?dev&deps=react@17.0.2,react-dom@17.0.2";
  import { MockBlockDock } from "https://esm.sh/mock-block-dock@0.0.17-canary.1?dev&deps=react@17.0.2,react-dom@17.0.2";
  import React, { createElement } from "https://esm.sh/react@17.0.2?dev&deps=react@17.0.2,react-dom@17.0.2";
  import ReactDOM from "https://esm.sh/react-dom@17.0.2?dev&deps=react@17.0.2,react-dom@17.0.2";

  const html = htm.bind(createElement);
  const node = document.getElementById("app");

  const DevApp = () => {
    return (
      html`
        <${MockBlockDock}
          blockDefinition=${{
            html: {
              url: new URL("./src/app.html", import.meta.url).toString()
            }
          }}
          blockEntity=${{
            entityId: "test-block-1",
            properties: { name: "World" },
          }}
          debug
        />
      `
    );
  };

  ReactDOM.render(
    html`
      <${DevApp} />
    `,
    node
  );
</script>
</body>
</html>